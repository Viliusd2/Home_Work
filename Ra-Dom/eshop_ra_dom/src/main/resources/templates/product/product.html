<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="en">
<head th:replace="fragments/layout :: head(#{create.product.title})"></head>
<body>

<div th:replace="fragments/layout :: navbar(rootPath='products')">Cia yra navbar (menu)</div>
<div class="card card__main">
    <div class="card-body py-6 px-md-6">
    <div class="container" >
        <h3 th:text="#{create.product}"></h3>
        <form method="POST" th:object="${productDto}" th:action="@{/products}">
            <div class="mb-3">
                <ul class="error-block" th:if="${#fields.hasErrors()}">
                    <li th:each="error: ${#fields.errors()}" th:text="${error}"></li>
                </ul>
            </div>
            <div class="mb-3">
                <label th:text="#{create.product.name}"></label>
                <input class="form-control" type="text" th:placeholder="#{write.product.name}" th:field="*{name}" th:errorclass="hasError">
                <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:errorclass="hasError"></span>
            </div>

            <div class="mb-3">
                <label th:text="#{create.product.quantity}"></label>
                <input class="form-control" type="number" th:placeholder="#{write.product.quantity}" th:field="*{quantityInStock}" th:errorclass="hasError">
                <span th:if="${#fields.hasErrors('quantityInStock')}" th:errors="*{quantityInStock}" th:errorclass="hasError"></span>
            </div>

            <div class="mb-3">
                <label th:text="#{create.product.portion.size}"></label>
                <input class="form-control" type="number" th:placeholder="#{write.product.portion.size}" th:field="*{portionSize}" th:errorclass="hasError">
                <span th:if="${#fields.hasErrors('portionSize')}" th:errors="*{portionSize}" th:errorclass="hasError"></span>
            </div>

            <div class="mb-3">
                <label th:text="#{create.product.price}"></label>
                <input class="form-control" type="number" th:placeholder="#{write.product.price}" th:field="*{price}" th:errorclass="hasError">
                <span th:if="${#fields.hasErrors('price')}" th:errors="*{price}" th:errorclass="hasError"></span>
            </div>
            <div class="mb-3">
                <label th:text="#{create.product.flavor}"></label>
                <textarea class="form-control"
                          type="text"
                          th:placeholder="#{write.product.flavor}"
                          th:field="*{flavor}"
                          th:errorclass="hasError"></textarea>
                <span th:if="${#fields.hasErrors('flavor')}" th:errors="*{flavor}" th:errorclass="hasError"></span>
            </div>
            <div class="mb-3">
                <label th:text="#{create.product.description}"></label>
                <textarea class="form-control"
                          type="text"
                          th:placeholder="#{write.product.description}"
                          th:field="*{description}"
                          th:errorclass="hasError"></textarea>
                <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}" th:errorclass="hasError"></span>
            </div>

            <button class="btn btn-primary" type="submit" th:text="#{create.product.add}"></button>
        </form>

        <div th:text="${message}"></div>
    </div>
    </div>
</div>

<div th:replace="fragments/layout :: footer"></div>

</body>
</html>
